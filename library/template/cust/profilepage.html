{% extends "cust/base.html" %}

{% block page %}
<div class="container mt-5">
    <div class="profile-header d-flex align-items-center justify-content-between">
        {% if user.customer.picture %}
            <img src="{{ user.customer.picture.url }}" alt="Profile Picture" class="profile-picture" height="200px">
        {% else %}
            <img src="" alt="Default Profile Picture" class="profile-picture">
        {% endif %}
        <div class="profile-details ms-4">
            <h1>{{ user.username }}</h1>
            <p>Name: {{ user.customer.name }}</p>
            <p>Email: {{ user.customer.email }}</p>
            <p>Phone: {{ user.customer.mobile }}</p>
            <p>Address: {{ user.customer.address }}</p>
            <p>Active Status: {{ user.customer.active }}</p>
        </div>
        <a href="{% url 'edit_profile' user.customer.id %}" class="btn btn-success btn-edit">Edit Profile</a>
    </div>
    <h2 class="mt-5">Your Borrowings</h2>
    <table class="table table-hover mt-3">
        <thead class="table-primary">
            <tr>
                <th>ID</th>
                <th>Book</th>
                <th>Borrow Date</th>
                <th>Return Date</th>
            </tr>
        </thead>
        <tbody>
            {% for borrowing in borrowings %}
            <tr>
                <td>{{ borrowing.id }}</td>
                <td>{{ borrowing.book.title }}</td>
                <td>{{ borrowing.borrowed_date }}</td>
                <td>{{ borrowing.returned_date }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
<style>
    body {
        background: linear-gradient(to right, #f2709c, #ff9472);
        color: rgb(0, 0, 0);
    }
    .profile-header {
        background: #fff;
        border-radius: 10px;
        padding: 20px;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        animation: slideInLeft 1s ease-in-out;
    }
    h2 {
        animation: fadeInDown 1s ease-in-out;
    }
    @keyframes slideInLeft {
        from {
            opacity: 0;
            transform: translateX(-50px);
        }
        to {
            opacity: 1;
            transform: translateX(0);
        }
    }
    @keyframes fadeInDown {
        from {
            opacity: 0;
            transform: translateY(-20px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
</style>
{% endblock page %}
